@model TicketVM



<div class="ui-box bg-white mb-5">
    <div class="ui-box-title">
        @Model.Title
    </div>
    <div class="ui-box-content">
        <!-- start of tickets -->
        <div class="tickets">
            <!-- Display the user's initial ticket -->
            <div class="ticket fa-num">
                <div class="avatar"></div>
                <div class="text">
                    @Model.Message
                </div>
                <div class="date">@Model.CreateDate</div> <!-- Assuming you have a ToPersianDate extension method -->
            </div>

            <!-- Display admin replies -->
            @foreach (var message in Model.Messages)
            {
                <div class="ticket reply fa-num">
                    <div class="avatar staff"></div>
                    <div class="text">
                        @message.Text
                    </div>
                    <div class="date">@message.CreateDate</div>
                </div>
            }
        </div>
        <!-- end of tickets -->
        <div class="border-bottom my-4"></div>
        <div class="ui-box-title p-0 mb-4">
            Answer
        </div>
        <!-- start of add-ticket-form -->
        <form asp-action="ReplyToTicket" asp-controller="Ticket" method="post" enctype="multipart/form-data" class="add-ticket-form">
            <div class="row">
                <div class="col-12">
                    <!-- start of form-element -->
                    <div class="form-element-row mb-5">
                        <label class="label">پیام</label>
                        <textarea rows="5" class="form-control" placeholder="متن پیام" name="message"></textarea>
                    </div>
                    <!-- end of form-element -->
                </div>
                <div class="col-12">
                    <!-- start of form-element -->
                    <div class="form-element-row form-element-row-file mb-5">
                        <div class="text-center">
                            <div class="fs-6 fw-bold text-dark">
                                عکس یا ویدیو خود را بارگذاری کنید.
                            </div>
                            <div class="fs-7 fw-bold text-muted mb-4">
                                ( حداکثر ۵ تصویر jpeg یا PNG حداکثر یک مگابایت، یک ویدیو MP4 حداکثر ۵۰ مگابایت )
                            </div>
                        </div>
                        <div class="custom-input-file">
                            <input type="file" class="custom-input-file-input" name="attachment" id="attachment">
                            <label for="attachment" class="custom-input-file-label">
                                <span class="label">
                                    <i class="ri-arrow-up-fill me-1"></i> انتخاب عکس یا ویدئوchoose file
                                </span>
                            </label>
                        </div>
                    </div>
                    <!-- end of form-element -->
                </div>
                <div class="col-12 text-end">
                    <button type="submit" class="btn btn-primary">send answer <i class="ri-ball-pen-line ms-2"></i></button>
                </div>
            </div>
        </form>
        <!-- end of add-ticket-form -->
    </div>
</div>
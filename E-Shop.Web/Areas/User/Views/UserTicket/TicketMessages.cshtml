@model MessageVM



<main class="page-content">
    <div class="container">
        <div class="row mb-5">
            <div class="col-xl-3 col-lg-4 col-md-5 mb-md-0 mb-4">
                <div class="ui-sticky ui-sticky-top">
                    <partial name="_UserSideProfile" />
                </div>
            </div>
            <div class="col-xl-9 col-lg-8 col-md-7">
                <div class="ui-box bg-white mb-5">
                    <div class="ui-box-title">
                        @Model.Title
                    </div>
                    <div class="ui-box-content">
                        <!-- start of tickets -->
                        <div class="tickets">
                            @foreach (var message in Model.Text)
                            {
                                if (!User.AdminCheck())
                                {
                                    <!-- start of user ticket -->
                                    <div class="ticket fa-num">
                                        <div class="avatar"></div>
                                        <div class="text">
                                            @message
                                        </div>
                                        <div class="date">@Model.CreateDate?.ToString("yyyy/MM/dd HH:mm:ss")</div>
                                    </div>
                                    <!-- end of user ticket -->
                                }
                                else
                                {
                                    <!-- start of admin ticket -->
                                    <div class="ticket reply fa-num">
                                        <div class="avatar staff"></div>
                                        <div class="text">
                                            @message
                                        </div>
                                        <div class="date">@Model.CreateDate?.ToString("yyyy/MM/dd HH:mm:ss")</div>
                                    </div>
                                    <!-- end of admin ticket -->
                                }
                            }
                        </div>
                        <!-- end of tickets -->
                        <div class="border-bottom my-4"></div>
                        <div class="ui-box-title p-0 mb-4">
                            ارسال پاسخ
                        </div>
                        <!-- start of add-ticket-form -->
                        <partial name="_CreateMessage" model="new MessageVM { TicketId = Model.TicketId }" />
                        <!-- end of add-ticket-form -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

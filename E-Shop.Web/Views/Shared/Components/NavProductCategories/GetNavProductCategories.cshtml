@using E_Shop.Application.ViewModels.ProductsViewModel
@model List<ProductCategoriesViewModel>


<div class="vertical-menu">
    <a href="#" class="vertical-menu-btn">دسته بندی کالاها <i class="ri-apps-fill icon"></i></a>
    <div class="vertical-menu-items">
        <ul>
            @if (Model.Any())
            {
                @foreach (var category in Model.Where(c => c.ParentId == null))
                {
                    <li class="mega-menu-category show">
                        <a asp-controller="Product" asp-action="ProductsArchive" asp-route-categoryId="@category.Id">@category.Name</a>
                        <ul class="mega-menu">
                            @foreach (var subcategory in Model.Where(s => s.ParentId == category.Id))
                            {
                                <li><a asp-controller="Product" asp-action="ProductsArchive" asp-route-categoryId="@subcategory.Id">@subcategory.Name</a></li>
                            }
                        </ul>
                    </li>
                }
            }


        </ul>
    </div>
</div>